# Lane-optimization-2020

Repository for the code, data, and analysis accompanying "Optimization of negative stage bias potential for faster imaging in large-scale electron microscopy."

[![DOI](https://zenodo.org/badge/doi/10.4121/12907205.svg)](https://doi.org/10.4121/12907205)


### ./notebooks
* `SNR_analysis.ipynb`
  * SNR measurements on recorded image data
  * Used to produce figures 3, 5, and supplemental figure 9
* `trajectory_plots.ipynb`
  * Analysis of signal electron trajectories
  * Used to produce figure 2 and supplemental figure 8
  * Can visualize BSE trajectories for your own custom working distance
  * Dependencies
    * `numpy`, `scipy`, `pandas`, `matplotlib`
    * `altair`, `seaborn` (optional for more advanced plotting)
* `SSNR_validation.ipynb`
  * Validation of SSNR-based SNR method


### ./code
* `ssnr.py`
  * Functions for making Fourier ring correlation (FRC) and spectral signal-to-noise ratio (SSNR) computations
  * Also includes 
  * Supports `SNR_analysis.ipynb`


### ./data
* `SNR_images` -- BSE images acquired with CBS detector (5 images acquired per setting)

| LE (eV) | Imaging mode | Stage bias (V) | Dwell (Âµs) | Pixel size (nm/px) |
|:-------:|:------------:|:--------------:|:----------:|:------------------:|
| 1500 | HR<br>UHR | 0<br>100<br>200<br>500<br>1000<br>1500<br>2000<br>3000 | 1<br>3<br>5<br>10<br>20 | 1 |

* `BSE_trajectories` -- generated by EOD simulations

| Initial BSE energy (eV) | Imaging mode | Stage bias (V) | Working distance (mm) | BSE bundle size |
|:-----------------------:|:------------:|:--------------:|:---------------------:|:---------------:|
| 500<br>1000<br>1500<br>2000<br>3000 |    HR<br>UHR | 0<br>100<br>500<br>1000<br>1500<br>2000<br>3000 | 3<br>4<br>5<br>6 | 100 particles |


### Additional resources
* http://www.nanotomy.org/OA/Lane2020/Lane.html
* https://github.com/lanery/iCAT-workflow
* https://sonic.tnw.tudelft.nl/catmaid/
