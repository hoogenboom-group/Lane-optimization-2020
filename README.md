# Lane-optimization-2020

Repository for the code, data, and analysis accompanying "Optimization of negative stage bias potential for faster imaging in large-scale electron microscopy."

[![DOI](https://zenodo.org/badge/doi/10.4121/12907205.svg)](https://doi.org/10.4121/12907205)


### notebooks
* `SNR_analysis.ipynb`
  * SNR measurements on recorded image data
  * Used to produce figures 3, 5, and supplemental figure 9
* `trajectory_plots.ipynb`
  * Analysis of signal electron trajectories
  * Used to produce figure 2 and supplemental figure 8
  * Can visualize BSE trajectories for your own custom working distance
  * Dependencies
    * `numpy`, `scipy`, `pandas`, `matplotlib`
    * `altair`, `seaborn` (optional for more advanced plotting)
* `SSNR_validation.ipynb`
  * Validation of SSNR-based SNR method


### code
* `ssnr.py`
  * Functions for making Fourier ring correlation (FRC) and spectral signal-to-noise ratio (SSNR) computations
  * Also includes 
  * Supports `SNR_analysis.ipynb`


### data
* `SNR_images` -- BSE images acquired with CBS detector (5 images acquired per setting)

| LE     | Imaging mode |                           Stage bias                           |               Dwell               | Pixel size |
|--------|:------------:|:--------------------------------------------------------------:|:---------------------------------:|:----------:|
| 1500eV |    HR<br>UHR | 0V<br>100V<br>200V<br>500V<br>1000V<br>1500V<br>2000V<br>3000V | 1µs<br>3µs<br>5µs<br>10µs<br>20µs |     1nm/px |

* `BSE_trajectories` -- generated by EOD simulations

| Initial BSE energy                            | Imaging mode |                       Stage bias                       |     Working distance     |   BSE bundle size   |
|-----------------------------------------------|:------------:|:------------------------------------------------------:|:------------------------:|:-------------------:|
| 500eV<br>1000eV<br>1500eV<br>2000eV<br>3000eV |    HR<br>UHR | 0V<br>100V<br>500V<br>1000V<br>1500V<br>2000V<br>3000V | 3mm<br>4mm<br>5mm<br>6mm | 100 particles |


### Additional resources
* http://www.nanotomy.org/OA/Lane2020/Lane.html
* https://github.com/lanery/iCAT-workflow
* http://sonic.tnw.tudelft.nl/catmaid/
